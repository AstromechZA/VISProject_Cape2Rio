<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Cape To Rio 2014 : Visualisation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <link href="styles/bootstrap.min.css" rel="stylesheet">
  <link href="styles/bootstrap-theme.min.css" rel="stylesheet">
  <link href="styles/custom.css" rel="stylesheet">

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="scripts/html5shiv.js"></script>
  <![endif]-->

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <script src="http://code.highcharts.com/highcharts.js"></script>
  <script type="text/javascript" src="scripts/bootstrap.min.js"></script>
</head>

<body>
<nav class="navbar navbar-default navbar-static-top" role="navigation">
    <div class="container">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
            <p>Cape To Rio 2014</p>
                <small><i>&nbsp;&nbsp;A visualisation</i></small>
        </a>
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
            <li class="active">
                <a href="#">About</a>
            </li>
            <li>
                <a href="#">Link</a>
            </li>
            <li class="dropdown">
                 <a href="#" class="dropdown-toggle" data-toggle="dropdown">Graphics<strong class="caret"></strong></a>
                <ul class="dropdown-menu">
                    <li>
                        <a href="#">Action</a>
                    </li>
                    <li>
                        <a href="#">Another action</a>
                    </li>
                    <li>
                        <a href="#">Something else here</a>
                    </li>
                    <li class="divider">
                    </li>
                    <li>
                        <a href="#">Separated link</a>
                    </li>
                    <li class="divider">
                    </li>
                    <li>
                        <a href="#">One more separated link</a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
    </div>
</nav>
<div class="container">
    <div class="row clearfix">
        <div class="col-md-12 column">
            <h2>
                Interim position graph
            </h2>
            <p>


                <div id="container" style="min-width: 310px; height: 820px; margin: 0 auto"></div>


            </p>
        </div>
    </div>

    <script>
    $(function () {

        boatseries = [
            {                name: 'INVESTEC CIAO BELLA',
                data: [5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],
                color: '#a8ce56',
                lineWidth: 7,
                marker: {
                    enabled: false
                },
                dashStyle: 'shortdash'
            },
            {
                name: 'PRIVATEER',
                data: [4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
                color: '#0064b8',
                marker: {
                    enabled: false
                }
            },
            {
                name: 'SCARLET RUNNER',
                data: [2, 2, 2, 2, 2, 3, 3, 3, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, {
                    y: 1,
                    marker: {
                        symbol: 'url(./images/finishflag.png)',
                        enabled: true
                    }
                }],
                marker: {
                    enabled: false
                },
                color: '#81bc00'
            },
            {
                name: 'ISKAREEN',
                data: [3, 3, 3, 3, 3, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3],
                color: '#a8ce56',
                lineWidth: 7,
                marker: {
                    enabled: false
                },
                dashStyle: 'shortdash'
            },
            {
                name: 'MASERATI',
                data: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
                color: '#f2390e',
                marker: {
                    enabled: false
                }
            },
            {
                name: 'MUSSULO III',
                data: [6,6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4],
                color: '#f26f51',
                lineWidth: 7,
                marker: {
                    enabled: false
                },
                dashStyle: 'shortdash'
            },
            {
                name: 'EXPLORA',
                data: [7,7, 8, 8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8, 8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7],
                color: '#3c89ca',
                lineWidth: 7,
                marker: {
                    enabled: false
                },
                dashStyle: 'shortdash'
            }];


        $('#container').highcharts({
            title: {
                text: 'Daily race position'
            },
            //subtitle: {
            //    text: 'Source: WorldClimate.com',
            //    x: -20
            //},
            xAxis: {
                categories: [0, '', '', 1, '', '', 2, '', '', 3, '', '', 4, '', '', 5, '', '', 6, '', '', 7, '', '', 8, '', '', 9, '', '', 10, '', '', 11, '', '', 12, '', '', 13, '', '', 14, '', '', 15, '', '', 16, '', '', 17, '', '', 18, '', '', 19, '', '', 20, '', '', 21, '', '', 22, '', '', 23, '', '', 24, '', '', 25, '', '', 26, '', '', 27],
                opposite: true
            },
            yAxis: [{
                title: false,
                allowDecimals: false,
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }],
                reversed: true,
                endOnTick: false,
                startOnTick: false,
                maxPadding: 0.3,
                minPadding: 0.3,
                tickInterval: 1,
                min: 0.5,
                max: 28,
                labels: {
                    formatter: function(){
                        c = this.chart;
                        v = this.value;
                        for (var i = boatseries.length - 1; i >= 0; i--) {
                            if (boatseries[i].data[0] == v || boatseries[i].data[0].y == v) {
                                return '' + boatseries[i].name + ' - <strong>' + v + '</strong>';
                            }
                        };
                        return this.value;
                    }
                }
            },{
                title: false,
                allowDecimals: false,
                linkedTo: 0,
                reversed: true,
                opposite: true,
                labels: {
                    formatter: function(){
                        c = this.chart;
                        v = this.value;
                        for (var i = 0; i < boatseries.length; i++) {
                            if (boatseries[i].data[boatseries[i].data.length-1] == v || boatseries[i].data[boatseries[i].data.length-1].y == v) {
                                console.log(v);
                                return '<strong>' + v + '</strong> - '  + boatseries[i].name;
                            }
                        };
                        return this.value;
                    }
                }
            }],
            plotOptions:{
                series: {
                    marker: {
                        enabled: true,
                        states: {
                            hover: {
                                enabled: false
                            }
                        }
                    },
                    enableMouseTracking: true,
                    lineWidth: 10 ,
                    // events: {
                    //     mouseOver: function() {
                    //         $('.highcharts-series').each(function(){$(this).attr('opacity',0.7)});
                    //         this.group.toFront();
                    //         $(this.group.element).attr('opacity',1.0)
                    //     }
                    // }

                }
            },
            tooltip: {
                formatter: function() {
                        return '<b>'+ this.series.name +'</b>';
                }
            },
            legend: false,
            series: boatseries
        });
        $('.highcharts-container svg text:last').remove();
    });

    </script>
</div>
</body>
</html>
