// globbels
var map;

// rhumbline object
// activate via .setMap
var rhumbline_path = new google.maps.Polyline({
    path: [
        new google.maps.LatLng(-23.051582, -43.081390),
        new google.maps.LatLng(-33.912276, 18.399475)
    ],
    geodesic: true,
    strokeColor: '#000000',
    strokeOpacity: 0.5,
    strokeWeight: 1
});

var boat_points = [
    [0, [-23.051582,-43.08139]],
    [3600, [-23.10588547,-42.773985675]],
    [7200, [-23.16018894,-42.46658135]],
    [10800, [-23.21449241,-42.159177025]],
    [14400, [-23.26879588,-41.8517727]],
    [18000, [-23.32309935,-41.544368375]],
    [21600, [-23.37740282,-41.23696405]],
    [25200, [-23.43170629,-40.929559725]],
    [28800, [-23.48600976,-40.6221554]],
    [32400, [-23.54031323,-40.314751075]],
    [36000, [-23.5946167,-40.00734675]],
    [39600, [-23.64892017,-39.699942425]],
    [43200, [-23.70322364,-39.3925381]],
    [46800, [-23.75752711,-39.085133775]],
    [50400, [-23.81183058,-38.77772945]],
    [54000, [-23.86613405,-38.470325125]],
    [57600, [-23.92043752,-38.1629208]],
    [61200, [-23.97474099,-37.855516475]],
    [64800, [-24.02904446,-37.54811215]],
    [68400, [-24.08334793,-37.240707825]],
    [72000, [-24.1376514,-36.9333035]],
    [75600, [-24.19195487,-36.625899175]],
    [79200, [-24.24625834,-36.31849485]],
    [82800, [-24.30056181,-36.011090525]],
    [86400, [-24.35486528,-35.7036862]],
    [90000, [-24.40916875,-35.396281875]],
    [93600, [-24.46347222,-35.08887755]],
    [97200, [-24.51777569,-34.781473225]],
    [100800, [-24.57207916,-34.4740689]],
    [104400, [-24.62638263,-34.166664575]],
    [108000, [-24.6806861,-33.85926025]],
    [111600, [-24.73498957,-33.551855925]],
    [115200, [-24.78929304,-33.2444516]],
    [118800, [-24.84359651,-32.937047275]],
    [122400, [-24.89789998,-32.62964295]],
    [126000, [-24.95220345,-32.322238625]],
    [129600, [-25.00650692,-32.0148343]],
    [133200, [-25.06081039,-31.707429975]],
    [136800, [-25.11511386,-31.40002565]],
    [140400, [-25.16941733,-31.092621325]],
    [144000, [-25.2237208,-30.785217]],
    [147600, [-25.27802427,-30.477812675]],
    [151200, [-25.33232774,-30.17040835]],
    [154800, [-25.38663121,-29.863004025]],
    [158400, [-25.44093468,-29.5555997]],
    [162000, [-25.49523815,-29.248195375]],
    [165600, [-25.54954162,-28.94079105]],
    [169200, [-25.60384509,-28.633386725]],
    [172800, [-25.65814856,-28.3259824]],
    [176400, [-25.71245203,-28.018578075]],
    [180000, [-25.7667555,-27.71117375]],
    [183600, [-25.82105897,-27.403769425]],
    [187200, [-25.87536244,-27.0963651]],
    [190800, [-25.92966591,-26.788960775]],
    [194400, [-25.98396938,-26.48155645]],
    [198000, [-26.03827285,-26.174152125]],
    [201600, [-26.09257632,-25.8667478]],
    [205200, [-26.14687979,-25.559343475]],
    [208800, [-26.20118326,-25.25193915]],
    [212400, [-26.25548673,-24.944534825]],
    [216000, [-26.3097902,-24.6371305]],
    [219600, [-26.36409367,-24.329726175]],
    [223200, [-26.41839714,-24.02232185]],
    [226800, [-26.47270061,-23.714917525]],
    [230400, [-26.52700408,-23.4075132]],
    [234000, [-26.58130755,-23.100108875]],
    [237600, [-26.63561102,-22.79270455]],
    [241200, [-26.68991449,-22.485300225]],
    [244800, [-26.74421796,-22.1778959]],
    [248400, [-26.79852143,-21.870491575]],
    [252000, [-26.8528249,-21.56308725]],
    [255600, [-26.90712837,-21.255682925]],
    [259200, [-26.96143184,-20.9482786]],
    [262800, [-27.01573531,-20.640874275]],
    [266400, [-27.07003878,-20.33346995]],
    [270000, [-27.12434225,-20.026065625]],
    [273600, [-27.17864572,-19.7186613]],
    [277200, [-27.23294919,-19.411256975]],
    [280800, [-27.28725266,-19.10385265]],
    [284400, [-27.34155613,-18.796448325]],
    [288000, [-27.3958596,-18.489044]],
    [291600, [-27.45016307,-18.181639675]],
    [295200, [-27.50446654,-17.87423535]],
    [298800, [-27.55877001,-17.566831025]],
    [302400, [-27.61307348,-17.2594267]],
    [306000, [-27.66737695,-16.952022375]],
    [309600, [-27.72168042,-16.64461805]],
    [313200, [-27.77598389,-16.337213725]],
    [316800, [-27.83028736,-16.0298094]],
    [320400, [-27.88459083,-15.722405075]],
    [324000, [-27.9388943,-15.41500075]],
    [327600, [-27.99319777,-15.107596425]],
    [331200, [-28.04750124,-14.8001921]],
    [334800, [-28.10180471,-14.492787775]],
    [338400, [-28.15610818,-14.18538345]],
    [342000, [-28.21041165,-13.877979125]],
    [345600, [-28.26471512,-13.5705748]],
    [349200, [-28.31901859,-13.263170475]],
    [352800, [-28.37332206,-12.95576615]],
    [356400, [-28.42762553,-12.648361825]],
    [360000, [-28.481929,-12.3409575]],
    [363600, [-28.53623247,-12.033553175]],
    [367200, [-28.59053594,-11.72614885]],
    [370800, [-28.64483941,-11.418744525]],
    [374400, [-28.69914288,-11.1113402]],
    [378000, [-28.75344635,-10.803935875]],
    [381600, [-28.80774982,-10.49653155]],
    [385200, [-28.86205329,-10.189127225]],
    [388800, [-28.91635676,-9.8817229]],
    [392400, [-28.97066023,-9.574318575]],
    [396000, [-29.0249637,-9.26691425]],
    [399600, [-29.07926717,-8.959509925]],
    [403200, [-29.13357064,-8.6521056]],
    [406800, [-29.18787411,-8.344701275]],
    [410400, [-29.24217758,-8.03729695]],
    [414000, [-29.29648105,-7.729892625]],
    [417600, [-29.35078452,-7.4224883]],
    [421200, [-29.40508799,-7.115083975]],
    [424800, [-29.45939146,-6.80767965]],
    [428400, [-29.51369493,-6.500275325]],
    [432000, [-29.5679984,-6.192871]],
    [435600, [-29.62230187,-5.885466675]],
    [439200, [-29.67660534,-5.57806235]],
    [442800, [-29.73090881,-5.270658025]],
    [446400, [-29.78521228,-4.9632537]],
    [450000, [-29.83951575,-4.655849375]],
    [453600, [-29.89381922,-4.34844505]],
    [457200, [-29.94812269,-4.041040725]],
    [460800, [-30.00242616,-3.7336364]],
    [464400, [-30.05672963,-3.426232075]],
    [468000, [-30.1110331,-3.11882775]],
    [471600, [-30.16533657,-2.811423425]],
    [475200, [-30.21964004,-2.5040191]],
    [478800, [-30.27394351,-2.196614775]],
    [482400, [-30.32824698,-1.88921045]],
    [486000, [-30.38255045,-1.581806125]],
    [489600, [-30.43685392,-1.2744018]],
    [493200, [-30.49115739,-0.966997475]],
    [496800, [-30.54546086,-0.65959315]],
    [500400, [-30.59976433,-0.352188825]],
    [504000, [-30.6540678,-0.0447845]],
    [507600, [-30.70837127,0.262619825]],
    [511200, [-30.76267474,0.57002415]],
    [514800, [-30.81697821,0.877428475]],
    [518400, [-30.87128168,1.1848328]],
    [522000, [-30.92558515,1.492237125]],
    [525600, [-30.97988862,1.79964145]],
    [529200, [-31.03419209,2.107045775]],
    [532800, [-31.08849556,2.4144501]],
    [536400, [-31.14279903,2.721854425]],
    [540000, [-31.1971025,3.02925875]],
    [543600, [-31.25140597,3.336663075]],
    [547200, [-31.30570944,3.6440674]],
    [550800, [-31.36001291,3.951471725]],
    [554400, [-31.41431638,4.25887605]],
    [558000, [-31.46861985,4.566280375]],
    [561600, [-31.52292332,4.8736847]],
    [565200, [-31.57722679,5.181089025]],
    [568800, [-31.63153026,5.48849335]],
    [572400, [-31.68583373,5.795897675]],
    [576000, [-31.7401372,6.103302]],
    [579600, [-31.79444067,6.410706325]],
    [583200, [-31.84874414,6.71811065]],
    [586800, [-31.90304761,7.025514975]],
    [590400, [-31.95735108,7.3329193]],
    [594000, [-32.01165455,7.640323625]],
    [597600, [-32.06595802,7.94772795]],
    [601200, [-32.12026149,8.255132275]],
    [604800, [-32.17456496,8.5625366]],
    [608400, [-32.22886843,8.869940925]],
    [612000, [-32.2831719,9.17734525]],
    [615600, [-32.33747537,9.484749575]],
    [619200, [-32.39177884,9.7921539]],
    [622800, [-32.44608231,10.099558225]],
    [626400, [-32.50038578,10.40696255]],
    [630000, [-32.55468925,10.714366875]],
    [633600, [-32.60899272,11.0217712]],
    [637200, [-32.66329619,11.329175525]],
    [640800, [-32.71759966,11.63657985]],
    [644400, [-32.77190313,11.943984175]],
    [648000, [-32.8262066,12.2513885]],
    [651600, [-32.88051007,12.558792825]],
    [655200, [-32.93481354,12.86619715]],
    [658800, [-32.98911701,13.173601475]],
    [662400, [-33.04342048,13.4810058]],
    [666000, [-33.09772395,13.788410125]],
    [669600, [-33.15202742,14.09581445]],
    [673200, [-33.20633089,14.403218775]],
    [676800, [-33.26063436,14.7106231]],
    [680400, [-33.31493783,15.018027425]],
    [684000, [-33.3692413,15.32543175]],
    [687600, [-33.42354477,15.632836075]],
    [691200, [-33.47784824,15.9402404]],
    [694800, [-33.53215171,16.247644725]],
    [698400, [-33.58645518,16.55504905]],
    [702000, [-33.64075865,16.862453375]],
    [705600, [-33.69506212,17.1698577]],
    [709200, [-33.74936559,17.477262025]],
    [712800, [-33.80366906,17.78466635]],
    [716400, [-33.85797253,18.092070675]],
    [720000, [-33.912276,18.399475]],
]

var boat_circles = []

// main method
var init = function _init() {

    // build mapOptions object
    var mapOptions = {
        zoom: 4,
        center: new google.maps.LatLng(-22, -22),
        disableDefaultUI: true,
        minZoom: 4,
        maxZoom: 10
    };

    // create map
    map = new google.maps.Map($('#map-canvas')[0], mapOptions);

    // add rhumbline
    rhumbline_path.setMap(map);

    build_circles()

    $("#slider").slider({
        min: 0,
        max: boat_points.length,
        slide: slider_slide
    });
}

var build_circles = function _build_circles() {
    for (var i = boat_points.length - 1; i >= 0; i--) {
        boat_circles.push(new google.maps.Circle({
            center: new google.maps.LatLng(boat_points[i][1][0], boat_points[i][1][1]),
            radius: 5000,
            strokeWeight: 1,
            fillColor: '#000000',
            fillOpacity: 0.8,
            map: map
        }));
    };
}

var slider_slide = function _slider_slide(event, ui) {
    for (var i = 0; i < boat_circles.length; i++) {
        b = (i < ui.value)
        if (boat_circles[i].visible != b) boat_circles[i].setVisible(b)
    };
}




$(init)